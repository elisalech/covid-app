{"version":3,"sources":["assets/map/point-me.svg","components/MapReact.jsx","contexts/MapProvider.jsx","UI/Avatar.jsx","UI/NotePopup.jsx","UI/MarkPopup.jsx","containers/PopupContainer.jsx","containers/MapContainer.jsx","contexts/UserProvider.jsx","components/AuthHandler.jsx","components/Severity.jsx","components/InfectionForm.jsx","components/NoteForm.jsx","pages/CreatePage.jsx","UI/StatsGlobal.jsx","components/MarkPicker.jsx","UI/MainFooter.jsx","pages/MainPage.jsx","components/StatusHandler.jsx","UI/MarkDetails.jsx","components/SingleMark.jsx","components/MarksCollection.jsx","pages/UserPage.jsx","pages/MePage.jsx","components/InterfaceSwitcher.jsx","containers/InterfaceContainer.jsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","MapReact","props","handleClickMap","e","coords","get","handleClickGetCoords","setState","coordsPl","handleObjectClick","ref","objects","events","add","state","selectF","position","objectId","getById","properties","id","label","getSelected","handlePosition","handlePopup","setTimeout","handleSetCenter","center","marks","this","length","defaultCenter","geometry","coordinates","nextProps","lat","lng","notes","placemark","query","apikey","lang","style","width","height","onClick","zoom","options","float","iconLayout","iconImageHref","meIcon","iconImageSize","iconImageOffset","clusterize","gridSize","preset","clusters","features","instanceRef","Component","context","createContext","MapProvider","children","useState","setCoords","setMarks","setNotes","setPlacemark","selected","setSelected","setPosition","setCenter","useEffect","fetch","method","credentials","headers","Accept","then","res","json","data","Provider","value","avatarId","avaData","setAvaData","squareicon","pixels","symmetry","padding","err","className","src","NotePopup","togglePopup","note","author","date","description","title","to","Avatar","MarkPopup","mark","severity","age","comment","status","symptoms","PopupContainer","useContext","isNote","hasOwnProperty","left","top","wWidth","window","innerWidth","wHeight","innerHeight","getPosition","MapContainer","isPopup","setIsPopup","UserProvider","userData","setUser","catch","er","console","log","fetchUser","a","updateStatus","body","JSON","stringify","location","reload","isMobile","AuthHandler","authenticated","href","option","current","handleClick","classes","classnames","on","sevList","InfectionForm","handleSubmit","handleResize","setAge","setSeveruty","history","useHistory","onSubmit","htmlFor","type","name","readOnly","onChange","target","map","sev","i","Severity","key","placeholder","maxLength","push","NoteForm","maxlength","CreatePage","useLocation","pathname","form","handleNewPoint","formData","scrollHeight","optional","preventDefault","FormData","optionalData","Object","entries","append","includes","join","StatsGlobal","setData","updates","latest","updated","confirmed","recovered","MarkPicker","open","setOpen","MainFooter","user","_id","MainPage","statusList","MarkDetails","parsedMark","parse","parsedArray","unshift","splice","isAuthor","detailsList","det","s","StatusHandler","SingleMark","handleCenter","show","setShow","stopPropagation","MarksCollection","count","markList","m","UserPage","userId","useParams","uid","email","MePage","document","querySelector","classList","toggle","InterfaceContainer","path","exact","InterfaceSwitcher","App","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","error","ReactDOM","render","getElementById","URL","process","origin","addEventListener","response","contentType","indexOf","ready","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.ffd5bb32.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/point-me.7671f9ea.svg\";","import React, { Component } from \"react\";\nimport {\n  YMaps,\n  Map,\n  Clusterer,\n  ZoomControl,\n  Placemark,\n  ObjectManager,\n  GeolocationControl,\n} from \"react-yandex-maps\";\n\nimport meIcon from \"../assets/map/point-me.svg\";\n\nconst YA_API = \"baa80640-f2e6-464d-b4c0-8924b020be18\";\n\nexport default class MapReact extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      coordsPl: null,\n      selectF: true,\n      center: null,\n    };\n  }\n\n  componentDidMount() {\n    const { marks } = this.props;\n\n    if (marks.length > 0)\n      this.setState({\n        defaultCenter: marks[marks.length - 1].geometry.coordinates,\n      });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const { center } = nextProps;\n    if (center) {\n      this.setState({ center: [center.lat, center.lng] });\n    }\n  }\n\n  handleClickMap = (e) => {\n    const coords = e.get(\"coords\");\n    this.props.handleClickGetCoords(coords);\n\n    this.setState({ coordsPl: coords });\n  };\n\n  handleObjectClick = (ref) => {\n    if (!ref) return;\n    return ref.objects.events.add(\"click\", (e) => {\n      if (this.state.selectF) {\n        const position = e.get(\"domEvent\").get(\"position\");\n        const objectId = e.get(\"objectId\");\n        const { id, label } = ref.objects.getById(objectId).properties;\n\n        this.props.getSelected(id, label);\n        this.props.handlePosition(position);\n        this.props.handlePopup(true);\n\n        this.setState({ selectF: false });\n      }\n      setTimeout(() => this.setState({ selectF: true }), 1);\n    });\n  };\n\n  handleSetCenter = (coords) => {\n    this.setState({ center: coords });\n  };\n\n  render() {\n    const { marks, notes, placemark } = this.props;\n    let { coordsPl, center, defaultCenter } = this.state;\n\n    center = center ? center : defaultCenter;\n\n    return (\n      <YMaps\n        // enterprise\n        query={{\n          apikey: YA_API,\n          lang: \"en_US\",\n        }}\n      >\n        <Map\n          style={{ width: \"100%\", height: \"100%\" }}\n          // instanceRef={inst => inst.events.add(\"dblclick\", handleClickMap)}\n          onClick={this.handleClickMap}\n          // defaultState={{\n          //   center: center || [55.79827356447633, 37.7755409362457],\n          //   zoom: 12\n          // }}\n          state={{\n            center: center || [55.79827356447633, 37.7755409362457],\n            zoom: 11,\n          }}\n        >\n          <GeolocationControl\n            options={{\n              float: \"right\",\n              iconLayout: \"default#image\",\n              // Custom image for the placemark icon.\n              iconImageHref: meIcon,\n              // The size of the placemark.\n              iconImageSize: [30, 42],\n              // The offset of the upper left corner of the icon relative\n              // to its \"tail\" (the anchor point).\n              iconImageOffset: [-3, -42],\n            }}\n          />\n          <ZoomControl options={{ float: \"left\" }} />\n\n          {placemark && coordsPl && <Placemark geometry={coordsPl} />}\n\n          {notes && (\n            <ObjectManager\n              options={{\n                clusterize: true,\n                gridSize: 32,\n              }}\n              objects={{\n                preset: \"islands#blueDotIcon\",\n              }}\n              clusters={{\n                preset: \"islands#blueClusterIcons\",\n              }}\n              features={notes}\n              // modules={[\n              //   \"objectManager.addon.objectsBalloon\",\n              //   \"objectManager.addon.objectsHint\"\n              // ]}\n              instanceRef={this.handleObjectClick}\n            />\n          )}\n          {marks && (\n            <ObjectManager\n              options={{\n                // hasHint: true,\n                clusterize: true,\n                gridSize: 32,\n              }}\n              objects={{\n                // openBalloonOnClick: true,\n                preset: \"islands#redDotIcon\",\n                // preset: \"default#image\"\n                // iconImageHref: clickIcon,\n                // iconImageSize: [40, 40],\n                // iconImageOffset: [-20, -40]\n              }}\n              clusters={{\n                preset: \"islands#redClusterIcons\",\n              }}\n              features={marks}\n              // modules={[\n              //   \"objectManager.addon.objectsBalloon\",\n              //   \"objectManager.addon.objectsHint\"\n              // ]}\n              instanceRef={this.handleObjectClick}\n            />\n          )}\n        </Map>\n      </YMaps>\n    );\n  }\n}\n\n{\n  /*  <Clusterer\n      options={{\n        preset: \"islands#invertedVioletClusterIcons\",\n        groupByCoordinates: false\n      }}\n    >\n    points &&\n    points.map((coordinates, index) => (\n      <Placemark key={index} geometry={coordinates} />\n    ))\n    </Clusterer>\n    */\n}\n","import React, { createContext, useState, useEffect } from \"react\";\n\nconst context = createContext(null);\n\nconst MapProvider = ({ children }) => {\n  const [coords, setCoords] = useState(null);\n  const [marks, setMarks] = useState(null);\n  const [notes, setNotes] = useState(null);\n  const [placemark, setPlacemark] = useState(false);\n  const [selected, setSelected] = useState(null);\n  const [position, setPosition] = useState(null);\n  const [center, setCenter] = useState(null);\n\n  const getNotes = () => {\n    fetch(`/api/note/all`, {\n      method: \"GET\",\n      credentials: \"include\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Credentials\": true,\n      },\n    })\n      .then((res) => res.json())\n      .then((data) => setNotes(data.notes));\n  };\n\n  const getMarks = () => {\n    fetch(`/api/mark/all`, {\n      method: \"GET\",\n      credentials: \"include\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Credentials\": true,\n      },\n    })\n      .then((res) => res.json())\n      .then((data) => setMarks(data.marks));\n  };\n\n  const getSelected = (id, label) => {\n    fetch(`/api/${label}/${id}`, {\n      method: \"GET\",\n      credentials: \"include\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Credentials\": true,\n      },\n    })\n      .then((res) => res.json())\n      .then((data) => setSelected(data));\n  };\n\n  useEffect(() => {\n    getNotes();\n    getMarks();\n  }, []);\n\n  return (\n    <context.Provider\n      value={{\n        coords,\n        setCoords,\n        marks,\n        notes,\n        placemark,\n        setPlacemark,\n        getSelected,\n        selected,\n        setPosition,\n        position,\n        center,\n        setCenter,\n      }}\n    >\n      {children}\n    </context.Provider>\n  );\n};\n\nMapProvider.context = context;\n\nexport default MapProvider;\n","import React, { useState, useEffect } from \"react\";\nimport squareicon from \"squareicon\";\n\nexport default ({ avatarId }) => {\n  const [avaData, setAvaData] = useState(null);\n  useEffect(() => {\n    squareicon(\n      { id: avatarId, pixels: 14, symmetry: \"central\", padding: 0 },\n      (err, data) => {\n        setAvaData(data);\n      }\n    );\n  }, [avatarId]);\n\n  return <img className=\"user-avatar\" src={avaData} />;\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport Avatar from \"./Avatar\";\n\nconst NotePopup = ({ togglePopup, selected }) => {\n  const { note } = selected;\n  const { author, date, description, coords, title } = note;\n\n  return (\n    <>\n      <header className=\"popup__header\">\n        <div className=\"left\">\n          <Link to={`/user/${author}`}>\n            <Avatar avatarId={author} />\n          </Link>\n          <h3>Info, {date}</h3>\n        </div>\n        <div className=\"popup-close\" onClick={() => togglePopup(false)}></div>\n      </header>\n\n      <div className=\"popup__content\">\n        <p className=\"popup-coords\">{`${coords.lat} ${coords.lng}`}</p>\n        <ul>\n          <li className=\"popup-comment\">Title: {title}</li>\n          <li className=\"popup-comment\">Description: {description}</li>\n        </ul>\n      </div>\n    </>\n  );\n};\n\nexport default NotePopup;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport Avatar from \"./Avatar\";\n\nconst MarkPopup = ({ togglePopup, selected }) => {\n  const { mark } = selected;\n  const {\n    author,\n    date,\n    severity,\n    age,\n    comment,\n    status,\n    symptoms,\n    coords\n  } = mark;\n\n  return (\n    <>\n      <header className=\"popup__header\">\n        <div className=\"left\">\n          <Link to={`/user/${author}`}>\n            <Avatar avatarId={author} />\n          </Link>\n          <h3>Infection, {date}</h3>\n        </div>\n        <div className=\"popup-close\" onClick={() => togglePopup(false)}></div>\n      </header>\n      <div className=\"popup__content\">\n        <p className=\"popup-coords\">{`${coords.lat} ${coords.lng}`}</p>\n        <ul>\n          <li className=\"popup-age\">Age: {age}</li>\n          <li className=\"popup-severity\">Status: {status}</li>\n          <li className=\"popup-severity\">Severity: {severity}</li>\n          <li className=\"popup-symptoms\">Symptoms: {symptoms}</li>\n          <li className=\"popup-comment\">Comment: {comment}</li>\n        </ul>\n      </div>\n    </>\n  );\n};\n\nexport default MarkPopup;\n","import React, { useContext } from \"react\";\n\nimport NotePopup from \"../UI/NotePopup\";\nimport MarkPopup from \"../UI/MarkPopup\";\nimport MapProvider from \"../contexts/MapProvider\";\n\nconst PopupContainer = ({ togglePopup }) => {\n  const { selected, position } = useContext(MapProvider.context);\n  if (!selected) return null;\n\n  const isNote = selected.hasOwnProperty(\"note\") === true;\n\n  const [_left, _top] = position;\n  const width = 300;\n  const height = 240;\n\n  const { left, top } = getPosition(_left, _top, width, height);\n\n  return (\n    <div\n      className=\"popup__container\"\n      style={{ left, top, position: \"absolute\", width }}\n    >\n      {isNote ? (\n        <NotePopup\n          position={position}\n          togglePopup={togglePopup}\n          selected={selected}\n        />\n      ) : (\n        <MarkPopup\n          position={position}\n          togglePopup={togglePopup}\n          selected={selected}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default PopupContainer;\n\nfunction getPosition(left, top, width, height) {\n  const wWidth = window.innerWidth;\n  const wHeight = window.innerHeight;\n\n  left = wWidth - left > width ? left : left - width;\n  top = wHeight - top > height ? top : top - height;\n\n  return { left, top };\n}\n","import React, { useState, useContext } from \"react\";\nimport MapReact from \"../components/MapReact\";\nimport MapProvider from \"../contexts/MapProvider\";\nimport PopupContainer from \"./PopupContainer\";\n\nconst MapContainer = () => {\n  const {\n    setCoords,\n    marks,\n    notes,\n    placemark,\n    getSelected,\n    setPosition,\n    center\n  } = useContext(MapProvider.context);\n  const [isPopup, setIsPopup] = useState(false);\n\n  if (!marks || !notes) return null;\n\n  return (\n    <>\n      <MapReact\n        handlePosition={setPosition}\n        placemark={placemark}\n        marks={marks}\n        notes={notes}\n        handlePopup={setIsPopup}\n        handleClickGetCoords={setCoords}\n        getSelected={getSelected}\n        center={center}\n      />\n      {isPopup && <PopupContainer togglePopup={setIsPopup} />}\n    </>\n  );\n};\n\nexport default MapContainer;\n","import React, { createContext, useState, useEffect } from \"react\";\n\nconst context = createContext(null);\n\nconst UserProvider = ({ children }) => {\n  const [userData, setUser] = useState(null);\n\n  useEffect(() => {\n    fetch(`/api/user`, {\n      method: \"GET\",\n      credentials: \"include\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Credentials\": true,\n      },\n    })\n      .then((res) => res.json())\n      .then((data) => setUser(data))\n      .catch((er) => console.log(er));\n  }, []);\n\n  const fetchUser = async (id) => {\n    const res = await fetch(`/api/user/${id}`, {\n      method: \"GET\",\n      credentials: \"include\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Credentials\": true,\n      },\n    });\n    const data = await res.json();\n    return data;\n  };\n\n  const updateStatus = (status, id) => {\n    fetch(`/api/mark/status/${id}`, {\n      method: \"POST\",\n      credentials: \"include\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Credentials\": true,\n      },\n      body: JSON.stringify({ status, id }),\n    }).then((res) => {\n      if (res.status === 200) {\n        window.location.reload();\n      }\n    });\n  };\n\n  const isMobile = () => {\n    const wWidth = window.innerWidth;\n    return wWidth <= 414;\n  };\n\n  return (\n    <context.Provider value={{ userData, fetchUser, updateStatus, isMobile }}>\n      {children}\n    </context.Provider>\n  );\n};\n\nUserProvider.context = context;\n\nexport default UserProvider;\n","import React, { useContext, useEffect, useState } from \"react\";\n\nimport UserProvider from \"../contexts/UserProvider\";\n\n// import GOOGLE_BUTTON from \"./google_button.png\";\n// const SERVER = \"http://localhost:5000/api\";\n\nconst AuthHandler = (props) => {\n  const { userData } = useContext(UserProvider.context);\n\n  if (!userData) return null;\n\n  return (\n    <div className=\"auth-controls\">\n      {userData.authenticated ? (\n        <a href={`/api/auth/logout`} className=\"logout\">\n          Log out\n        </a>\n      ) : (\n        <a href={`/api/auth/google`}>\n          <div className=\"login-btn\">\n            <span></span>\n            Sign in with Google\n          </div>\n        </a>\n      )}\n    </div>\n  );\n};\nexport default AuthHandler;\n","import React from \"react\";\nimport classnames from \"classnames\";\n\nexport default ({ option, current, handleClick }) => {\n  const classes = classnames({\n    severity: true,\n    on: option === current,\n    [`${option}`]: true\n  });\n  return (\n    <div className={classes} onClick={() => handleClick(option)}>\n      {option}\n    </div>\n  );\n};\n","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Severity from \"./Severity\";\n\nconst sevList = [\"Low\", \"Medium\", \"High\"];\n\nconst InfectionForm = ({ coords, handleSubmit, label, handleResize }) => {\n  const [age, setAge] = useState(0);\n  const [severity, setSeveruty] = useState(null);\n  const history = useHistory();\n\n  return (\n    <form\n      className=\"infection-form\"\n      onSubmit={e => handleSubmit(e, label, severity)}\n    >\n      <div className=\"field\">\n        <label htmlFor=\"coords\" className=\"coords\">\n          Choose location on map <span></span>\n        </label>\n        <input\n          type=\"text\"\n          name=\"coords\"\n          id=\"coords\"\n          value={coords || \"\"}\n          readOnly\n        />\n      </div>\n\n      <div className=\"field\">\n        <label htmlFor=\"age\">Age:</label>\n        <div className=\"form-age\">\n          <input\n            type=\"number\"\n            name=\"age\"\n            onChange={e => setAge(e.target.value)}\n          />\n          {age >= 60 ? <div className=\"high-risk\">High risk</div> : null}\n        </div>\n      </div>\n\n      <div className=\"field\">\n        <label htmlFor=\"severity\">Severity:</label>\n        <div className=\"severity-wrapper\">\n          {sevList.map((sev, i) => (\n            <Severity\n              key={i}\n              option={sev}\n              current={severity}\n              handleClick={setSeveruty}\n            />\n          ))}\n        </div>\n      </div>\n\n      <div className=\"field\">\n        <label htmlFor=\"symptoms\">Symptoms:</label>\n        <textarea\n          name=\"symptoms\"\n          placeholder=\"Up to 100 characters\"\n          maxLength=\"100\"\n          id=\"symptoms\"\n          onChange={handleResize}\n        ></textarea>\n      </div>\n\n      <div className=\"field\">\n        <label htmlFor=\"comment\">Comment:</label>\n        <textarea\n          name=\"comment\"\n          placeholder=\"Up to 200 characters\"\n          maxLength=\"200\"\n          id=\"comment\"\n          onChange={handleResize}\n        ></textarea>\n      </div>\n\n      <div className=\"buttons\">\n        <button type=\"button\" onClick={() => history.push(\"/\")}>\n          Cancel\n        </button>\n        <button type=\"submit\" onSubmit={e => handleSubmit(e, label, severity)}>\n          Submit\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport default InfectionForm;\n","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nconst NoteForm = ({ coords, handleSubmit, label, handleResize }) => {\n  const history = useHistory();\n\n  return (\n    <form className=\"note-form\" onSubmit={e => handleSubmit(e, label, null)}>\n      <div className=\"field\">\n        <label htmlFor=\"coords\" className=\"coords\">\n          Choose location on map{\" \"}\n        </label>\n        <input\n          type=\"text\"\n          name=\"coords\"\n          id=\"coords\"\n          value={coords || \"\"}\n          readOnly\n        />\n      </div>\n\n      <div className=\"field\">\n        <label htmlFor=\"title\" className=\"title\">\n          Short title:\n        </label>\n        <input\n          type=\"text\"\n          name=\"title\"\n          placeholder=\"Up to 20 characters\"\n          maxlength=\"20\"\n          id=\"title\"\n        />\n      </div>\n\n      <div className=\"field\">\n        <label htmlFor=\"description\">Description:</label>\n        <textarea\n          name=\"description\"\n          id=\"description\"\n          placeholder=\"Up to 200 characters\"\n          maxLength=\"200\"\n          onChange={handleResize}\n        ></textarea>\n      </div>\n\n      <div className=\"buttons\">\n        <button type=\"button\" onClick={() => history.push(\"/\")}>\n          Cancel\n        </button>\n        <button type=\"submit\" onSubmit={e => handleSubmit(e, label, null)}>\n          Submit\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport default NoteForm;\n","import React, { useContext, useEffect } from \"react\";\nimport { useLocation, useHistory } from \"react-router-dom\";\n\nimport InfectionForm from \"../components/InfectionForm\";\nimport NoteForm from \"../components/NoteForm\";\nimport MapProvider from \"../contexts/MapProvider\";\nimport IsolatedForm from \"../components/IsolatedForm\";\n\nconst CreatePage = () => {\n  const { coords, setPlacemark } = useContext(MapProvider.context);\n  const history = useHistory();\n  const location = useLocation().pathname;\n\n  useEffect(() => {\n    setPlacemark(true);\n\n    return () => setPlacemark(false);\n  }, []);\n\n  const handleNewPoint = (formData, label) => {\n    fetch(`/api/${label}/new`, {\n      method: \"POST\",\n      credentials: \"include\",\n      headers: {\n        Accept: \"application/json\",\n        // \"Content-Type\": \"multipart/form-data\",\n        // \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Credentials\": true,\n      },\n      // body: JSON.stringify(formData),\n      body: formData,\n    }).then((res) => history.push(\"/\"));\n  };\n\n  const handleResize = (e) => {\n    e.target.style.height = \"inherit\";\n    e.target.style.height = `${e.target.scrollHeight}px`;\n  };\n\n  const handleSubmit = (e, label, optional) => {\n    e.preventDefault();\n\n    const form = e.target;\n    let formData = new FormData(form);\n    const optionalData = Object.entries(optional)[0];\n    formData.append(optionalData[0], optionalData[1]);\n    // formData = [...formData];\n\n    // const data = formData.reduce((ac, pair) => {\n    //   return { ...ac, [`${pair[0]}`]: pair[1] };\n    // }, {});\n    handleNewPoint(formData, label);\n  };\n\n  let form;\n  let title;\n\n  if (location.includes(\"note/new\")) {\n    form = (\n      <NoteForm\n        label=\"note\"\n        handleNewPoint={handleNewPoint}\n        handleSubmit={handleSubmit}\n        handleResize={handleResize}\n        coords={coords ? coords.join(\",\") : null}\n      />\n    );\n    title = \"Adding new info point\";\n  }\n  // if (location.includes(\"isolated/new\")) {\n  //   form = (\n  //     <IsolatedForm\n  //       label=\"isolated\"\n  //       handleNewPoint={handleNewPoint}\n  //       handleSubmit={handleSubmit}\n  //       handleResize={handleResize}\n  //       coords={coords ? coords.join(\",\") : null}\n  //     />\n  //   );\n  //   title = \"Your Isolation\";\n  // }\n  if (location.includes(\"mark/new\")) {\n    form = (\n      <InfectionForm\n        label=\"mark\"\n        handleNewPoint={handleNewPoint}\n        handleSubmit={handleSubmit}\n        handleResize={handleResize}\n        coords={coords ? coords.join(\",\") : null}\n      />\n    );\n    title = \"Adding new infection case\";\n  }\n\n  return (\n    <div className=\"create-page__container\">\n      <div className=\"create-page__header\">\n        <h2 className=\"create-page__title\">{title}</h2>\n        <p className=\"create-page__description\">\n          Tell us a bit about feellings so that we provide with more\n          information.\n        </p>\n      </div>\n      <div className=\"create-page__form-wrapper\"></div>\n      {form}\n    </div>\n  );\n};\n\nexport default CreatePage;\n","import React, { useState, useEffect } from \"react\";\n\nconst StatsGlobal = (props) => {\n  const [data, setData] = useState(null);\n  useEffect(() => {\n    fetch(`/api/stats`, {\n      method: \"GET\",\n      credentials: \"include\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Credentials\": true,\n      },\n    })\n      .then((res) => res.json())\n      .then((data) => setData(data));\n  }, []);\n\n  if (!data) {\n    return <div>Stats are loading...</div>;\n  }\n\n  const { updates, latest } = data;\n  const date = latest.updated;\n\n  return (\n    <>\n      <div className=\"global-stats\">\n        <div className=\"latest\">\n          <div className=\"confirmed\">\n            <p>{latest.confirmed}</p>\n            <p>All confirmed cases</p>\n          </div>\n          <div className=\"recovered\">\n            <p>{latest.recovered}</p>\n            <p>Recovered</p>\n          </div>\n          {/* <div className=\"deaths\">\n            <p>{latest.deaths}</p>\n            <p>✝︎ Deaths</p>\n          </div> */}\n        </div>\n        <div className=\"updates\">\n          {/* <div className=\"subtitle\">Today</div> */}\n          <div className=\"confirmed\">\n            <p>+{updates.confirmed}</p>\n            <p></p>\n          </div>\n          <div className=\"recovered\">\n            <p>+{updates.recovered}</p>\n            <p></p>\n          </div>\n          {/* <div className=\"deaths\">\n            <p>+{updates.deaths}</p>\n            <p></p>\n          </div> */}\n        </div>\n      </div>\n\n      <p className=\"info\">* {date}</p>\n    </>\n  );\n};\n\nexport default StatsGlobal;\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst MarkPicker = () => {\n  const [open, setOpen] = useState(false);\n  return (\n    <div className=\"mark-picker__container\">\n      {open && (\n        <div className=\"picker-wrapper\">\n          <Link to=\"/mark/new\">\n            <div className=\"picker-infection picker noselect\">\n              <div className=\"infection-icon icon\"></div>\n              <p>Infection</p>\n            </div>\n          </Link>\n          <Link to=\"/note/new\">\n            <div className=\"picker-note picker noselect\">\n              <div className=\"note-icon icon\"></div>\n              <p>Info note</p>\n            </div>\n          </Link>\n        </div>\n      )}\n      <div className=\"picker-opener noselect\" onClick={() => setOpen(!open)}>\n        <div className=\"open-icon\"></div>\n        <p> New point</p>\n      </div>\n    </div>\n  );\n};\n\nexport default MarkPicker;\n","import React, { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport UserProvider from \"../contexts/UserProvider\";\nimport AuthHandler from \"../components/AuthHandler\";\nimport Avatar from \"./Avatar\";\nimport MarkPicker from \"../components/MarkPicker\";\n\nconst MainFooter = () => {\n  const { userData } = useContext(UserProvider.context);\n\n  if (!userData) return null;\n\n  return (\n    <div className=\"main-footer__container\">\n      {userData.authenticated ? (\n        <>\n          <Link className=\"avatar\" to=\"/user/me\" title=\"/user/me\">\n            <Avatar avatarId={userData.user._id} />\n          </Link>\n          <MarkPicker />\n        </>\n      ) : (\n        <AuthHandler />\n      )}\n    </div>\n  );\n};\n\nexport default MainFooter;\n","import React from \"react\";\n\nimport StatsGlobal from \"../UI/StatsGlobal\";\nimport MainFooter from \"../UI/MainFooter\";\n\nconst MainPage = () => {\n  return (\n    <div className=\"main-page__container\">\n      <p className=\"main-page__description\">\n        Map of Spreading Covid-19. Here you can leave points with useful info or\n        cases of illness.\n      </p>\n      <StatsGlobal />\n      <MainFooter />\n    </div>\n  );\n};\n\nexport default MainPage;\n","import React from \"react\";\nimport classnames from \"classnames\";\n\nexport default ({ option, current, handleClick, id }) => {\n  const classes = classnames({\n    status: true,\n    on: option === current,\n    [`${option}`]: true\n  });\n  return (\n    <div className={classes} onClick={() => handleClick(option, id)}>\n      {option}\n    </div>\n  );\n};\n","import React, { useContext, useState } from \"react\";\n\nimport UserProvider from \"../contexts/UserProvider\";\nimport StatusHandler from \"../components/StatusHandler\";\n\nconst statusList = [\"Infected\", \"Recovered\", \"Death\"];\n\nconst MarkDetails = ({ mark }) => {\n  const [show, setShow] = useState(false);\n  const { userData, updateStatus } = useContext(UserProvider.context);\n  const isNote = mark.hasOwnProperty(\"status\") ? false : true;\n\n  const parsedMark = JSON.parse(JSON.stringify(mark));\n\n  delete parsedMark[\"author\"];\n  delete parsedMark[\"__v\"];\n  delete parsedMark[\"_id\"];\n  delete parsedMark[\"coords\"];\n\n  let parsedArray = Object.entries(parsedMark);\n  if (!isNote) parsedArray.unshift(parsedArray.splice(4, 1)[0]);\n\n  const isAuthor = userData.authenticated && userData.user._id === mark.author;\n\n  const detailsList = parsedArray.map((det, i) => {\n    if (det[0] === \"status\") {\n      return (\n        <div key={i} className={`detail ${det[0]}-wrapper`}>\n          <p className=\"detail-title\">{det[0]}:</p>\n          <div className=\"detail-value\">\n            {isAuthor\n              ? statusList.map((s, i) => (\n                  <StatusHandler\n                    key={i}\n                    handleClick={updateStatus}\n                    id={mark._id}\n                    option={s}\n                    current={det[1]}\n                  />\n                ))\n              : det[1]}\n          </div>\n        </div>\n      );\n    }\n    return (\n      <div key={i} className={`detail ${det[0]}-wrapper`}>\n        <p className=\"detail-title\">{det[0]}:</p>\n        <p className=\"detail-value\">{det[1]}</p>\n      </div>\n    );\n  });\n\n  return <div className=\"collection-single-details\">{detailsList}</div>;\n};\nexport default MarkDetails;\n","import React, { useState } from \"react\";\nimport MarkDetails from \"../UI/MarkDetails\";\n\nconst SingleMark = ({ mark, handleCenter }) => {\n  const [show, setShow] = useState(false);\n  const isNote = mark.hasOwnProperty(\"status\") ? false : true;\n\n  const handleClick = e => {\n    e.stopPropagation();\n    setShow(!show);\n  };\n\n  return (\n    <div className=\"collection-single-container\">\n      <div className=\"collection-single-header\">\n        <div className=\"single-date\" onClick={handleClick}>\n          {mark.date}\n        </div>\n        <div\n          className={`single-status ${isNote ? \"note-title\" : mark.status}`}\n          onClick={handleClick}\n        >\n          {isNote ? mark.title : mark.status}\n        </div>\n        <div className=\"single-location\" onClick={handleCenter}></div>\n      </div>\n      {show && <MarkDetails mark={mark} />}\n    </div>\n  );\n};\nexport default SingleMark;\n\n// {isNote ? null : (\n//   <div className={`single-status ${mark.status}`} onClick={handleClick}>\n//     {mark.status}\n//   </div>\n// )}\n","import React, { useContext, useEffect, useState } from \"react\";\n\nimport MapProvider from \"../contexts/MapProvider\";\nimport SingleMark from \"./SingleMark\";\n\nconst MarksCollection = ({ marks, title }) => {\n  const { setCenter } = useContext(MapProvider.context);\n  const [show, setShow] = useState(false);\n\n  const count = marks.length > 0 ? marks.length : \"No\";\n  const markList = marks.map((m, i) => {\n    return (\n      <SingleMark key={i} mark={m} handleCenter={() => setCenter(m.coords)} />\n    );\n  });\n  return (\n    <>\n      <div className=\"collection-title-wrapper\" onClick={() => setShow(!show)}>\n        <h4>\n          <span className={`toggle ${show ? \"down\" : null}`}></span> {title}\n        </h4>\n        <p>{count}</p>\n      </div>\n      {show && <div className=\"collection-list-wrapper\">{markList}</div>}\n    </>\n  );\n};\n\nexport default MarksCollection;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { useHistory, useParams, Link } from \"react-router-dom\";\n\nimport Avatar from \"../UI/Avatar\";\nimport UserProvider from \"../contexts/UserProvider\";\nimport MarksCollection from \"../components/MarksCollection\";\n\nconst UserPage = () => {\n  let { userData, fetchUser } = useContext(UserProvider.context);\n  const userId = useParams().uid;\n  const history = useHistory();\n  const [user, setUser] = useState(null);\n  const [marks, setMarks] = useState(null);\n  const [notes, setNotes] = useState(null);\n\n  useEffect(() => {\n    fetchUser(userId).then(data => {\n      const { user, marks, notes } = data;\n      setUser(user);\n      setMarks(marks);\n      setNotes(notes);\n    });\n  }, []);\n\n  useEffect(() => {\n    if (userData && userData.authenticated && userData.user._id === userId) {\n      history.push(\"/user/me\");\n    }\n  }, [userData]);\n\n  if (!user) return null;\n\n  return (\n    <div className=\"user-page__container\">\n      <div className=\"user-page__header\">\n        <Link to=\"/\" title=\"home page\">\n          <div className=\"control-home\"></div>\n        </Link>\n        <div className=\"user-page__logo\">LOGO</div>\n        <a className=\"logout\"></a>\n      </div>\n\n      <Avatar avatarId={user._id} />\n      <div className=\"user-page__contacts-wrapper\">\n        <p className=\"user-page__email\">Email</p>\n        <input type=\"text\" readOnly value={user.email} />\n      </div>\n      {marks && notes && (\n        <div className=\"user-page__collected-container\">\n          <MarksCollection title=\"Infection cases\" marks={marks} />\n          <MarksCollection title=\"Infirmation notes\" marks={notes} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default UserPage;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport Avatar from \"../UI/Avatar\";\nimport UserProvider from \"../contexts/UserProvider\";\nimport AuthHandler from \"../components/AuthHandler\";\nimport MarksCollection from \"../components/MarksCollection\";\n\nconst MePage = () => {\n  let { userData, fetchUser } = useContext(UserProvider.context);\n  const [user, setUser] = useState(null);\n  const [marks, setMarks] = useState(null);\n  const [notes, setNotes] = useState(null);\n\n  useEffect(() => {\n    if (!userData) return;\n    const userId = userData.user._id;\n    fetchUser(userId).then(data => {\n      const { user, marks, notes } = data;\n      setMarks(marks);\n      setNotes(notes);\n      setUser(user);\n    });\n  }, [userData]);\n\n  if (!userData || !user) return null;\n  return (\n    <div className=\"user-page__container\">\n      <div className=\"user-page__header\">\n        <Link to=\"/\" title=\"home page\">\n          <div className=\"control-home\"></div>\n        </Link>\n        <div className=\"user-page__logo\">LOGO</div>\n        <AuthHandler />\n      </div>\n      <Avatar avatarId={userData.user._id} />\n      <div className=\"user-page__contacts-wrapper\">\n        <p className=\"user-page__email\">Email</p>\n        <input type=\"text\" readOnly value={user.email} />\n      </div>\n      <div className=\"user-page__collected-container\">\n        <MarksCollection title=\"Infection cases\" marks={marks} />\n        <MarksCollection title=\"Infos\" marks={notes} />\n      </div>\n    </div>\n  );\n};\n\nexport default MePage;\n","import React from \"react\";\n\nexport default () => {\n  const switchHandler = () => {\n    const toHide = document.querySelector(\".interface-container\");\n    toHide.classList.toggle(\"closed\");\n  };\n  return (\n    <div className=\"interface-switcher\" onClick={switchHandler}>\n      <div className=\"switcher-icon\"></div>\n    </div>\n  );\n};\n","import React, { useContext } from \"react\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\n\nimport AuthHandler from \"../components/AuthHandler\";\nimport CreatePage from \"../pages/CreatePage\";\nimport MainPage from \"../pages/MainPage\";\nimport UserPage from \"../pages/UserPage\";\nimport MePage from \"../pages/MePage\";\nimport UserProvider from \"../contexts/UserProvider\";\nimport InterfaceSwitcher from \"../components/InterfaceSwitcher\";\n\nfunction InterfaceContainer() {\n  const { isMobile } = useContext(UserProvider.context);\n  return (\n    <div className=\"interface-container\">\n      <Switch>\n        <Route path=\"/\" exact>\n          <MainPage />\n        </Route>\n        <Route path=\"/mark/new\">\n          <CreatePage />\n        </Route>\n        <Route path=\"/note/new\">\n          <CreatePage />\n        </Route>\n        {/* <Route path=\"/isolated/new\">\n          <CreatePage />\n        </Route> */}\n        <Route path=\"/user/me\" exact>\n          <MePage />\n        </Route>\n        <Route path=\"/user/:uid\">\n          <UserPage />\n        </Route>\n        <Route path=\"/auth\" exact>\n          <AuthHandler />\n        </Route>\n        <Route path=\"/mark/:id\"></Route>\n        <Redirect to=\"/\" exact />\n      </Switch>\n      {isMobile() && <InterfaceSwitcher />}\n    </div>\n  );\n}\n\nexport default InterfaceContainer;\n","import React from \"react\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nimport MapContainer from \"./containers/MapContainer\";\nimport InterfaceContainer from \"./containers/InterfaceContainer.jsx\";\n\nimport UserProvider from \"./contexts/UserProvider\";\nimport MapProvider from \"./contexts/MapProvider\";\n\nfunction App() {\n  return (\n    <UserProvider>\n      <MapProvider>\n        <Router>\n          <div id=\"app\">\n            <InterfaceContainer />\n            <div id=\"map-container\">\n              <MapContainer />\n            </div>\n          </div>\n        </Router>\n      </MapProvider>\n    </UserProvider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"reset-css\";\n\nimport \"./styles/App.css\";\nimport \"./styles/CreatePage.scss\";\nimport \"./styles/MainPage.scss\";\nimport \"./styles/UserPage.scss\";\nimport \"./styles/Popup.scss\";\nimport \"./styles/MapReact.css\";\nimport \"./styles/MarkPicker.scss\";\nimport \"./styles/mobile.css\";\n\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}